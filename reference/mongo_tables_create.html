<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
MongoDB database don't enforce a structure to the documents contained within.
Even though this is true, it's best to use this function explicitly,
as after creation of collections it also create appropriate indexes for quick
querying of the database by RegLogMongoConnector."><title>Create RegLog-valid database collections for MongoDB — mongo_tables_create • shiny.reglog</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create RegLog-valid database collections for MongoDB — mongo_tables_create"><meta property="og:description" content="
MongoDB database don't enforce a structure to the documents contained within.
Even though this is true, it's best to use this function explicitly,
as after creation of collections it also create appropriate indexes for quick
querying of the database by RegLogMongoConnector."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">shiny.reglog</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/RegLogServer_object.html">RegLogServer object and its fields and methods</a>
    <a class="dropdown-item" href="../articles/create_custom_handlers.html">Creating custom RegLogConnector handlers</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create RegLog-valid database collections for MongoDB</h1>
      
      <div class="d-none name"><code>mongo_tables_create.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>MongoDB database don't enforce a structure to the documents contained within.
Even though this is true, it's best to use this function explicitly,
as after creation of collections it also create appropriate indexes for quick
querying of the database by RegLogMongoConnector.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mongo_tables_create</span><span class="op">(</span></span>
<span>  <span class="va">mongo_url</span>,</span>
<span>  <span class="va">mongo_db</span>,</span>
<span>  mongo_options <span class="op">=</span> <span class="fu">mongolite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mongolite/man/ssl_options.html" class="external-link">ssl_options</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  account_name <span class="op">=</span> <span class="st">"account"</span>,</span>
<span>  reset_code_name <span class="op">=</span> <span class="st">"reset_code"</span>,</span>
<span>  user_data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hash_passwords <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>mongo_url</dt>
<dd><p>URI to the MongoDB cluster</p></dd>


<dt>mongo_db</dt>
<dd><p>name of the MongoDB database</p></dd>


<dt>mongo_options</dt>
<dd><p>additional connection options such as SSL keys/certs</p></dd>


<dt>account_name</dt>
<dd><p>Name of the collection for storing user accounts credentials.
Defaults to 'account'. Mandatory collection.</p></dd>


<dt>reset_code_name</dt>
<dd><p>Name of the collector for storing generated password reset
codes. Defaults to 'reset_code'. Mandatory collection.</p></dd>


<dt>user_data</dt>
<dd><p>If you wish to import existing user database, you can input
data.frame with that table in this argument. It should contain columns:
username, password, email (ond optionally: create_time). Defaults to NULL.</p></dd>


<dt>hash_passwords</dt>
<dd><p>If you are importing table of users upon tables creation,
you can also specify if the password should be hashed using <code><a href="https://rdrr.io/pkg/scrypt/man/hashPassword.html" class="external-link">scrypt::hashPassword</a></code>.
Defaults to <code>FALSE</code>. If you have unhashed passwords in imported table, set
this option to <code>TRUE</code>.</p></dd>


<dt>verbose</dt>
<dd><p>Boolean specific if the actions made by function should be
printed back to the console.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Every document in created collections will have following structure:</p><ul><li><p>account (default name)</p><ul><li><p>username: character <strong>(index)</strong></p></li>
<li><p>password: character</p></li>
<li><p>email: character <strong>(index)</strong></p></li>
<li><p>create_time: timestamp</p></li>
<li><p>update_time: timestamp</p></li>
</ul></li>
<li><p>reset_code (default name)</p><ul><li><p>user_id: character <strong>(index)</strong></p></li>
<li><p>reset_code: character</p></li>
<li><p>used: numeric</p></li>
<li><p>create_time: timestamp</p></li>
<li><p>update_time: timestamp</p></li>
</ul></li>
<li><p>logs (default name, optional) - this collection isn't created with this
function, as there is no need for that - MongoDB collections don't have a
set structure, and no additional index is created there.</p><ul><li><p>time: timestamp</p></li>
<li><p>session: character</p></li>
<li><p>direction: character</p></li>
<li><p>type: character</p></li>
<li><p>note: character</p></li>
</ul></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other RegLog databases: 
<code><a href="DBI_tables_create.html">DBI_tables_create</a>()</code>,
<code><a href="gsheet_tables_create.html">gsheet_tables_create</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michal Kosinski.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

